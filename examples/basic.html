<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Basic JSON Editor Example</title>
    <script src="../dist/jsoneditor.js"></script>
</head>
<body>
    <h1>Basic JSON Editor Example</h1>

    <div id='editor_holder'></div>
    <button id='submit'>Submit (console.log)</button>

    <script>
        // Initialize the editor with a JSON schema
        var editor = new JSONEditor(document.getElementById('editor_holder'), {
            schema: {
                "title": "Person",
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "First and Last name",
                        "minLength": 4,
                        "default": "Jeremy Dorn"
                    },
                    "age": {
                        "type": "integer",
                        "default": 25,
                        "minimum": 18,
                        "maximum": 99
                    },
                    "favorite_color": {
                        "type": "string",
                        "format": "color",
                        "title": "favorite color",
                        "default": "#ffa500"
                    },
                    "gender": {
                        "type": "string",
                        "enum": [
                          "male",
                          "female"
                        ]
                    },
                    "location": {
                        "type": "object",
                        "title": "Location  (outer)",
                        "properties": {
                            "city": {
                                "type": "string",
                                "default": "San Francisco"
                            },
                            "state": {
                                "type": "string",
                                "default": "CA"
                            },
                            "citystate": {
                                "type": "string",
                                "description": "This is generated automatically from the previous two fields (outer)",
                                "template": "{{city}}, {{state}}",
                                "watch": {
                                    "city": "location.city",
                                    "state": "location.state"
                                }
                            },
                            "location": {
                                "type": "object",
                                "title": "Location (inner)",
                                "properties": {
                                    "city": {
                                        "type": "string",
                                        "default": "San Francisco"
                                    },
                                    "state": {
                                        "type": "string",
                                        "default": "CA"
                                    },
                                    "citystate": {
                                        "type": "string",
                                        "description": "This is generated automatically from the previous two fields (inner)",
                                        "template": "{{city}}, {{state}}",
                                        "watch": {
                                            "city": "location.location.city",
                                            "state": "location.location.state"
                                        }
                                    }
                                }
                            },
                        }
                    },
                    "pets": {
                        "type": "array",
                        "format": "table",
                        "title": "Pets",
                        "uniqueItems": true,
                        "items": {
                            "type": "object",
                            "title": "Pet",
                            "properties": {
                                "type": {
                                    "type": "string",
                                    "enum": [
                                      "cat",
                                      "dog",
                                      "bird",
                                      "reptile",
                                      "other"
                                    ],
                                    "default": "dog"
                                },
                                "name": {
                                    "type": "string"
                                }
                            }
                        },
                        "default": [
                          {
                              "type": "dog",
                              "name": "Walter"
                          }
                        ]
                    }
                }
            },
            layout_schema: {
                "groups": [
                    {
                        "Id": "TopGroup",
                        "Fields": [

                          {
                              "Path": "root.name"
                          },
                          {
                              "Path": "root.age"
                          },
                          {
                              "Path": "root.pets"
                          }
                        ]
                    },
                    {
                      "Id": "AutocalcGroup",
                      "Fields": [
                          {
                              "Path": "root.location.location.citystate"
                          },
                          {
                              "Path": "root.location.citystate"
                          }
                      ]
                  },
                  {
                      "Id": "BottomGroup",
                      "OtherFields": true
                  }
                ],
                "layout": [
                                            {
                          "type": "group",
                          "RefId": "AutocalcGroup"
                      },
                      {
                          "type": "group",
                          "attributes": [
                              {
                                  "name": "style",
                                  "value": "float: right;"
                              }
                          ],
                          "childBlocks": [
                              
                          ],
                          "RefId": "TopGroup"
                      },
                      { "type": "separator" },
                      {
                          "type": "group",
                          "attributes": [
                                {
                                    "name": "style",
                                    "value": "float: left;"
                                }
                          ],
                          "RefId": "BottomGroup"
                      }
                ]
            }
        });

        // Hook up the submit button to log to the console
        document.getElementById('submit').addEventListener('click', function () {
            // Get the value from the editor
            console.log(editor.getValue());
        });
    </script>
</body>
</html>
